window.zsj=window.zsj||{},function(){function t(t,i,a,s){this._board=t,this._ctx=i,this._canvasW=a,this._canvasH=s,this._trail=new zsj.Trail(this._canvasW,this._canvasH)}t.prototype={create:function(t){this._shape=t.shape,this._size=t.size,this._color=t.color,this._twikle=t.twikle,this._gradient=t.gradient;var i=.7*Math.random()+.5;this._alpha=this._twikle?i>1?1:i:1,this._twikle&&(this._alphaMax=this._alpha,this._alphaMin=this._alpha-.5,this._alphaDuration=Math.floor(80*Math.random())+20,this._alphaStep=-.5/this._alphaDuration),this._trail.create({trail:t.trail,startPos:t.startPos,endPos:t.endPos,duration:t.duration,starttime:t.starttime,rotatecount:t.movecount,rotatedir:1}),this._gradient&&this.creaetGradient(t),this.drawDot()},drawDot:function(){switch(this._shape){case"rect":this._ctx.beginPath(),this._ctx.fillStyle=this._gradient?this._grdStyle:this._color,this._ctx.globalAlpha=this._alpha,this._ctx.fillRect(this._trail.curPos.x-this._size.w/2,this._trail.curPos.y-this._size.h/2,this._size.w,this._size.h),this._ctx.closePath();break;case"round":this._ctx.beginPath(),this._ctx.fillStyle=this._gradient?this._grdStyle:this._color,this._ctx.globalAlpha=this._alpha,this._ctx.arc(this._trail.curPos.x,this._trail.curPos.y,this._size,0,2*Math.PI),this._ctx.fill(),this._ctx.closePath()}this._ctx.restore()},creaetGradient:function(t){var i=(this._trail.startPos,this._trail.endPos,this._trail.curPos);switch(this._ctx.save(),this._shape){case"rect":var a=this._size.w,s=this._size.h;this._grdStyle=this._ctx.createRadialGradient(i.x-a/2,i.y-s,Math.max(a,s)/2,i.x+a/2,i.y+s/2,Math.max(a,s)),this._grdStyle.addColorStop(0,"transparent"),this._grdStyle.addColorStop(1,this._color);break;case"round":var h=this._size;this._grdStyle=this._ctx.createRadialGradient(i.x,i.y,h/2,i.x,i.y,h),this._grdStyle.addColorStop(0,this._color),this._grdStyle.addColorStop(1,"transparent")}},alphaChange:function(){this._alpha+=this._alphaStep,this._alpha>=this._alphaMax?this._alphaStep*=-1:this._alpha<=this._alphaMin&&(this._alphaStep*=-1)},animate:function(t){this._trail.controlMove(t),this.creaetGradient(),this.alphaChange(),this.drawDot()}},zsj.Particle=t}();
//# sourceMappingURL=particle.min.js.map
