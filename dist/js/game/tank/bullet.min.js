!function(){function t(t,e){this._bulletW=2,this._bulletH=4,this._buletIndex=0,this._curBulletObj={},this._bstage=t,this._blayer=e,this._destroyed=!1}t.prototype={selectType:function(t){switch(t){case 0:case 1:this._moveV=8,this._carryer="foetankb",this._effectTarget="myTank";break;case 2:this._moveV=9,this._carryer="foetankb",this._effectTarget="myTank";break;case 3:this._moveV=8,this._carryer="mytankb",this._effectTarget="foeTank"}},createBullet:function(t,e){this._dir=t;var s=this;s._buletIndex++,s._curBulletObj[s._buletIndex]=s._curBullet,s._curBullet=new Konva.Rect({width:s._bulletW,height:s._bulletH,offset:{x:s._bulletW/2,y:s._bulletH/2},x:e.x,y:e.y,name:s._carryer,effectTarget:s._effectTarget,bulletIndex:s._buletIndex,fill:"white",rotation:90*t}),s._blayer.add(s._curBullet),s._blayer.batchDraw()},bulletMove:function(){var t=this._curBullet.x(),e=this._curBullet.y();switch(this._dir){case 0:this._curBullet.y(e-this._moveV);break;case 1:this._curBullet.x(t+this._moveV);break;case 2:this._curBullet.y(e+this._moveV);break;case 3:this._curBullet.x(t-this._moveV)}this.hitJudge()},hitJudge:function(){var t=this._curBullet.x(),e=this._curBullet.y(),s=this._bstage.getIntersection({x:t,y:e},"."+this._curBullet.getAttr("effectTarget"));if(s)return s.setAttr("destroyed",!0),s.destroy(),this._curBullet.destroy(),void(this._destroyed=!0);switch(this._dir){case 0:if(!(e-this._bulletH/2<0))return;this._curBullet.destroy(),this._destroyed=!0;break;case 1:if(!(t+this._bulletH/2>this._sw))return;this._curBullet.destroy(),this._destroyed=!0;case 2:if(!(e+this._bulletH/2>this._sh))return;this._curBullet.destroy(),this._destroyed=!0;case 3:if(!(t-this._bulletH/2<0))return;this._curBullet.destroy(),this._destroyed=!0}}},window.Bullet=t}();
//# sourceMappingURL=bullet.min.js.map
